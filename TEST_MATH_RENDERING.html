<!DOCTYPE html>
<html>
<head>
    <title>Math Rendering Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #1a1a1a;
            color: #e0e0e0;
        }
        h1 {
            color: #d7b38c;
        }
        .test-case {
            margin: 30px 0;
            padding: 20px;
            background: #2a2a2a;
            border-radius: 8px;
        }
        .test-title {
            color: #d7b38c;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .katex-display {
            margin: 20px 0;
            text-align: center;
            font-size: 2.2em !important;
            background: rgba(215, 179, 140, 0.08);
            padding: 20px;
            border-radius: 12px;
        }
        .katex {
            color: #d7b38c !important;
        }
    </style>
</head>
<body>
    <h1>Math Rendering Test - KaTeX Delimiters</h1>
    
    <div class="test-case">
        <div class="test-title">Test 1: Display Math ($$...$$)</div>
        <div id="test1">
            The integral of x squared is:
            
            $$\int x^2 dx = \frac{x^3}{3} + C$$
            
            This is display math (large, centered).
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 2: Inline Math ($...$)</div>
        <div id="test2">
            When we have $x = 5$, then $y = x^2 = 25$. This is inline math (small).
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 3: Quadratic Formula</div>
        <div id="test3">
            The quadratic formula is:
            
            $$x = \frac{-b \pm \sqrt{b^2-4ac}}{2a}$$
            
            where $a$, $b$, and $c$ are coefficients.
        </div>
    </div>
    
    <div class="test-case">
        <div class="test-title">Test 4: Integration by Parts</div>
        <div id="test4">
            Anirudh, let's tackle the integral of $x^2 \log x$. To solve this, we can use integration by parts. The formula for integration by parts is:
            
            $$\int u dv = uv - \int v du$$
            
            In this case, let's choose $u = \log x$ and $dv = x^2 dx$. Then, $du = \frac{1}{x} dx$ and $v = \frac{x^3}{3}$.
        </div>
    </div>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\[", right: "\\]", display: true},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError: false,
                strict: false,
                trust: true
            });
        });
    </script>
</body>
</html>
